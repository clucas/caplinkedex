<p id="notice"><%= notice %></p>

<h1>Books</h1>
<%= form_tag books_path, method: :get do %>
  <p>
    <%= text_field_tag "query", params[:query], placeholder: 'Search' %>
    <%= submit_tag "Search", name: nil %>
  </p>
<% end %>

<p><%= will_paginate @books %></p>

<table id="table" class="parse">
  <thead>
    <tr>
      <th>Title</th>
      <th>Author</th>
      <th>Publisher</th>
      <th>Published on</th>
      <th>Price</th>
      <th>Category</th>
      <th>Currency</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr class="tablerow" data-url="<%= book_path(book) %>">
        <td><%= book.title %></td>
        <td><%= book.author %></td>
        <td><%= book.publisher %></td>
        <td><%= book.published_on %></td>
        <td><%= book.unit_cost %></td>
        <td><%= book.category %></td>
        <td><%= book.currency %></td>
        <td><%= link_to 'Show', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
        <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Book', new_book_path %>

<%= javascript_pack_tag 'books' %>
